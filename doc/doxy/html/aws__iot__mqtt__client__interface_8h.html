<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32 Quick Start Building Blocks: examples/aws_iot/source/components/aws_iot/aws-iot-device-sdk-embedded-C/include/aws_iot_mqtt_client_interface.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="2" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ESP32 Quick Start Building Blocks
   </div>
   <!-- PROJECT BRIEF is expected to be a URL -->
   <div id="projectbrief"><a href=https://github.com/IoTReady/esp32_firmware_base>https://github.com/IoTReady/esp32_firmware_base</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('aws__iot__mqtt__client__interface_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">aws_iot_mqtt_client_interface.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;stdio.h&quot;</code><br />
<code>#include &quot;stdbool.h&quot;</code><br />
<code>#include &quot;stdint.h&quot;</code><br />
<code>#include &quot;stddef.h&quot;</code><br />
<code>#include &quot;<a class="el" href="aws__iot__error_8h_source.html">aws_iot_error.h</a>&quot;</code><br />
<code>#include &quot;aws_iot_config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="aws__iot__mqtt__client_8h_source.html">aws_iot_mqtt_client.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="network__interface_8h_source.html">network_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="timer__interface_8h_source.html">timer_interface.h</a>&quot;</code><br />
</div>
<p><a href="aws__iot__mqtt__client__interface_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abedac528bf8eacaacd096d2db49f29ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#abedac528bf8eacaacd096d2db49f29ba">aws_iot_mqtt_free</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient)</td></tr>
<tr class="memdesc:abedac528bf8eacaacd096d2db49f29ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean mqtt client from all dynamic memory allocate.  <a href="aws__iot__mqtt__client__interface_8h.html#abedac528bf8eacaacd096d2db49f29ba">More...</a><br /></td></tr>
<tr class="separator:abedac528bf8eacaacd096d2db49f29ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195e2cd96aa876bc41e00f0ad24447d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#a195e2cd96aa876bc41e00f0ad24447d5">aws_iot_mqtt_init</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient, const <a class="el" href="struct_io_t___client___init___params.html">IoT_Client_Init_Params</a> *pInitParams)</td></tr>
<tr class="memdesc:a195e2cd96aa876bc41e00f0ad24447d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Client Initialization Function.  <a href="aws__iot__mqtt__client__interface_8h.html#a195e2cd96aa876bc41e00f0ad24447d5">More...</a><br /></td></tr>
<tr class="separator:a195e2cd96aa876bc41e00f0ad24447d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18e89ca7d35c66193d7253e0a3fa529"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#ae18e89ca7d35c66193d7253e0a3fa529">aws_iot_mqtt_connect</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient, const <a class="el" href="struct_io_t___client___connect___params.html">IoT_Client_Connect_Params</a> *pConnectParams)</td></tr>
<tr class="memdesc:ae18e89ca7d35c66193d7253e0a3fa529"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Connection Function.  <a href="aws__iot__mqtt__client__interface_8h.html#ae18e89ca7d35c66193d7253e0a3fa529">More...</a><br /></td></tr>
<tr class="separator:ae18e89ca7d35c66193d7253e0a3fa529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbb8ea42852aefdae444f91fdfcd26d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#acfbb8ea42852aefdae444f91fdfcd26d">aws_iot_mqtt_publish</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient, const char *pTopicName, uint16_t topicNameLen, <a class="el" href="struct_io_t___publish___message___params.html">IoT_Publish_Message_Params</a> *pParams)</td></tr>
<tr class="memdesc:acfbb8ea42852aefdae444f91fdfcd26d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish an MQTT message on a topic.  <a href="aws__iot__mqtt__client__interface_8h.html#acfbb8ea42852aefdae444f91fdfcd26d">More...</a><br /></td></tr>
<tr class="separator:acfbb8ea42852aefdae444f91fdfcd26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a694874dbfe4272c658277e5adfcb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#a63a694874dbfe4272c658277e5adfcb5">aws_iot_mqtt_subscribe</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient, const char *pTopicName, uint16_t topicNameLen, <a class="el" href="aws__iot__mqtt__client_8h.html#a2a5744b0ca3f049979e6777b75d7a634">QoS</a> qos, <a class="el" href="aws__iot__mqtt__client_8h.html#acdaa9777cb8a029a9fdef0a2cddfd4de">pApplicationHandler_t</a> pApplicationHandler, void *pApplicationHandlerData)</td></tr>
<tr class="memdesc:a63a694874dbfe4272c658277e5adfcb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to an MQTT topic.  <a href="aws__iot__mqtt__client__interface_8h.html#a63a694874dbfe4272c658277e5adfcb5">More...</a><br /></td></tr>
<tr class="separator:a63a694874dbfe4272c658277e5adfcb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99dbe35b664ab5d2f579268f9de29c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#aa99dbe35b664ab5d2f579268f9de29c5">aws_iot_mqtt_resubscribe</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient)</td></tr>
<tr class="memdesc:aa99dbe35b664ab5d2f579268f9de29c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to an MQTT topic.  <a href="aws__iot__mqtt__client__interface_8h.html#aa99dbe35b664ab5d2f579268f9de29c5">More...</a><br /></td></tr>
<tr class="separator:aa99dbe35b664ab5d2f579268f9de29c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12684226331372cb5fbc051235b28913"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#a12684226331372cb5fbc051235b28913">aws_iot_mqtt_unsubscribe</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient, const char *pTopicFilter, uint16_t topicFilterLen)</td></tr>
<tr class="memdesc:a12684226331372cb5fbc051235b28913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe to an MQTT topic.  <a href="aws__iot__mqtt__client__interface_8h.html#a12684226331372cb5fbc051235b28913">More...</a><br /></td></tr>
<tr class="separator:a12684226331372cb5fbc051235b28913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b3a65a9d53c0689431d12f4aefbc11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#ab1b3a65a9d53c0689431d12f4aefbc11">aws_iot_mqtt_disconnect</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient)</td></tr>
<tr class="memdesc:ab1b3a65a9d53c0689431d12f4aefbc11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect an MQTT Connection.  <a href="aws__iot__mqtt__client__interface_8h.html#ab1b3a65a9d53c0689431d12f4aefbc11">More...</a><br /></td></tr>
<tr class="separator:ab1b3a65a9d53c0689431d12f4aefbc11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b638ebb7859f459be2de2fbb7419aa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#a0b638ebb7859f459be2de2fbb7419aa0">aws_iot_mqtt_yield</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:a0b638ebb7859f459be2de2fbb7419aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yield to the MQTT client.  <a href="aws__iot__mqtt__client__interface_8h.html#a0b638ebb7859f459be2de2fbb7419aa0">More...</a><br /></td></tr>
<tr class="separator:a0b638ebb7859f459be2de2fbb7419aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f1274703467ebdb1d22dd85921753c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__mqtt__client__interface_8h.html#a06f1274703467ebdb1d22dd85921753c">aws_iot_mqtt_attempt_reconnect</a> (<a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *pClient)</td></tr>
<tr class="memdesc:a06f1274703467ebdb1d22dd85921753c"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Manual Re-Connection Function.  <a href="aws__iot__mqtt__client__interface_8h.html#a06f1274703467ebdb1d22dd85921753c">More...</a><br /></td></tr>
<tr class="separator:a06f1274703467ebdb1d22dd85921753c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a06f1274703467ebdb1d22dd85921753c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06f1274703467ebdb1d22dd85921753c">&#9670;&nbsp;</a></span>aws_iot_mqtt_attempt_reconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_attempt_reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT Manual Re-Connection Function. </p>
<p>Called to establish an MQTT connection with the AWS IoT Service using parameters from the last time a connection was attempted Use after disconnect to start the reconnect process manually Makes only one reconnect attempt Sets the client state to pending reconnect in case of failure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed connection</dd></dl>
<p>Called to establish an MQTT connection with the AWS IoT Service using parameters from the last time a connection was attempted Use after disconnect to start the reconnect process manually Makes only one reconnect attempt. Sets the client state to pending reconnect in case of failure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed connection </dd></dl>

</div>
</div>
<a id="ae18e89ca7d35c66193d7253e0a3fa529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18e89ca7d35c66193d7253e0a3fa529">&#9670;&nbsp;</a></span>aws_iot_mqtt_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_io_t___client___connect___params.html">IoT_Client_Connect_Params</a> *&#160;</td>
          <td class="paramname"><em>pConnectParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT Connection Function. </p>
<p>Called to establish an MQTT connection with the AWS IoT Service</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pConnectParams</td><td>Pointer to MQTT connection parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed connection</dd></dl>
<p>Called to establish an MQTT connection with the AWS IoT Service This is the outer function which does the validations and calls the internal connect above to perform the actual operation. It is also responsible for client state changes</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pConnectParams</td><td>Pointer to MQTT connection parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed connection </dd></dl>

</div>
</div>
<a id="ab1b3a65a9d53c0689431d12f4aefbc11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1b3a65a9d53c0689431d12f4aefbc11">&#9670;&nbsp;</a></span>aws_iot_mqtt_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect an MQTT Connection. </p>
<p>Called to send a disconnect message to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed send of the disconnect control packet.</dd></dl>
<p>Called to send a disconnect message to the broker. This is the outer function which does the validations and calls the internal disconnect above to perform the actual operation. It is also responsible for client state changes</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed send of the disconnect control packet. </dd></dl>

</div>
</div>
<a id="abedac528bf8eacaacd096d2db49f29ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abedac528bf8eacaacd096d2db49f29ba">&#9670;&nbsp;</a></span>aws_iot_mqtt_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean mqtt client from all dynamic memory allocate. </p>
<p>This function will free up memory that was dynamically allocated for the client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>MQTT Client that was previously created by calling aws_iot_mqtt_init </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed freeing </dd></dl>

</div>
</div>
<a id="a195e2cd96aa876bc41e00f0ad24447d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195e2cd96aa876bc41e00f0ad24447d5">&#9670;&nbsp;</a></span>aws_iot_mqtt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_io_t___client___init___params.html">IoT_Client_Init_Params</a> *&#160;</td>
          <td class="paramname"><em>pInitParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT Client Initialization Function. </p>
<p>Called to initialize the MQTT Client</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pInitParams</td><td>Pointer to MQTT connection parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IoT_Error_t Type defining successful/failed API call </dd></dl>

</div>
</div>
<a id="acfbb8ea42852aefdae444f91fdfcd26d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfbb8ea42852aefdae444f91fdfcd26d">&#9670;&nbsp;</a></span>aws_iot_mqtt_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_publish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicNameLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_io_t___publish___message___params.html">IoT_Publish_Message_Params</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish an MQTT message on a topic. </p>
<p>Called to publish an MQTT message on a topic. </p><dl class="section note"><dt>Note</dt><dd>Call is blocking. In the case of a QoS 0 message the function returns after the message was successfully passed to the TLS layer. In the case of QoS 1 the function returns after the receipt of the PUBACK control packet.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pTopicName</td><td>Topic Name to publish to </td></tr>
    <tr><td class="paramname">topicNameLen</td><td>Length of the topic name </td></tr>
    <tr><td class="paramname">pParams</td><td>Pointer to Publish Message parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed publish</dd></dl>
<p>Called to publish an MQTT message on a topic. </p><dl class="section note"><dt>Note</dt><dd>Call is blocking. In the case of a QoS 0 message the function returns after the message was successfully passed to the TLS layer. In the case of QoS 1 the function returns after the receipt of the PUBACK control packet. This is the outer function which does the validations and calls the internal publish above to perform the actual operation. It is also responsible for client state changes</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pTopicName</td><td>Topic Name to publish to </td></tr>
    <tr><td class="paramname">topicNameLen</td><td>Length of the topic name </td></tr>
    <tr><td class="paramname">pParams</td><td>Pointer to Publish Message parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed publish </dd></dl>

</div>
</div>
<a id="aa99dbe35b664ab5d2f579268f9de29c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99dbe35b664ab5d2f579268f9de29c5">&#9670;&nbsp;</a></span>aws_iot_mqtt_resubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_resubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to an MQTT topic. </p>
<p>Called to resubscribe to the topics that the client has active subscriptions on. Internally called when autoreconnect is enabled</p>
<dl class="section note"><dt>Note</dt><dd>Call is blocking. The call returns after the receipt of the SUBACK control packet.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed subscription</dd></dl>
<p>Called to send a subscribe message to the broker requesting a subscription to an MQTT topic. This is the outer function which does the validations and calls the internal resubscribe above to perform the actual operation. It is also responsible for client state changes </p><dl class="section note"><dt>Note</dt><dd>Call is blocking. The call returns after the receipt of the SUBACK control packet.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed subscription </dd></dl>

</div>
</div>
<a id="a63a694874dbfe4272c658277e5adfcb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63a694874dbfe4272c658277e5adfcb5">&#9670;&nbsp;</a></span>aws_iot_mqtt_subscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicNameLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#a2a5744b0ca3f049979e6777b75d7a634">QoS</a>&#160;</td>
          <td class="paramname"><em>qos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#acdaa9777cb8a029a9fdef0a2cddfd4de">pApplicationHandler_t</a>&#160;</td>
          <td class="paramname"><em>pApplicationHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pApplicationHandlerData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to an MQTT topic. </p>
<p>Called to send a subscribe message to the broker requesting a subscription to an MQTT topic. </p><dl class="section note"><dt>Note</dt><dd>Call is blocking. The call returns after the receipt of the SUBACK control packet. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>pTopicName and pApplicationHandlerData need to be static in memory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pTopicName</td><td>Topic Name to publish to. pTopicName needs to be static in memory since no malloc are performed by the SDK </td></tr>
    <tr><td class="paramname">topicNameLen</td><td>Length of the topic name </td></tr>
    <tr><td class="paramname">pApplicationHandler_t</td><td>Reference to the handler function for this subscription </td></tr>
    <tr><td class="paramname">pApplicationHandlerData</td><td>Point to data passed to the callback. pApplicationHandlerData also needs to be static in memory since no malloc are performed by the SDK</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed subscription</dd></dl>
<p>Called to send a subscribe message to the broker requesting a subscription to an MQTT topic. This is the outer function which does the validations and calls the internal subscribe above to perform the actual operation. It is also responsible for client state changes </p><dl class="section note"><dt>Note</dt><dd>Call is blocking. The call returns after the receipt of the SUBACK control packet. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>pTopicName and pApplicationHandlerData need to be static in memory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pTopicName</td><td>Topic Name to publish to. pTopicName needs to be static in memory since no malloc are performed by the SDK </td></tr>
    <tr><td class="paramname">topicNameLen</td><td>Length of the topic name </td></tr>
    <tr><td class="paramname">pApplicationHandler_t</td><td>Reference to the handler function for this subscription </td></tr>
    <tr><td class="paramname">pApplicationHandlerData</td><td>Point to data passed to the callback. pApplicationHandlerData also needs to be static in memory since no malloc are performed by the SDK</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed subscription </dd></dl>

</div>
</div>
<a id="a12684226331372cb5fbc051235b28913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12684226331372cb5fbc051235b28913">&#9670;&nbsp;</a></span>aws_iot_mqtt_unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_unsubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicFilterLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe to an MQTT topic. </p>
<p>Called to send an unsubscribe message to the broker requesting removal of a subscription to an MQTT topic. </p><dl class="section note"><dt>Note</dt><dd>Call is blocking. The call returns after the receipt of the UNSUBACK control packet.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pTopicName</td><td>Topic Name to publish to </td></tr>
    <tr><td class="paramname">topicNameLen</td><td>Length of the topic name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed unsubscribe call</dd></dl>
<p>Called to send an unsubscribe message to the broker requesting removal of a subscription to an MQTT topic. </p><dl class="section note"><dt>Note</dt><dd>Call is blocking. The call returns after the receipt of the UNSUBACK control packet. This is the outer function which does the validations and calls the internal unsubscribe above to perform the actual operation. It is also responsible for client state changes</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">pTopicName</td><td>Topic Name to publish to </td></tr>
    <tr><td class="paramname">topicNameLen</td><td>Length of the topic name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed unsubscribe call </dd></dl>

</div>
</div>
<a id="a0b638ebb7859f459be2de2fbb7419aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b638ebb7859f459be2de2fbb7419aa0">&#9670;&nbsp;</a></span>aws_iot_mqtt_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__error_8h.html#a329da5c3a42979b72561e28e749f6921">IoT_Error_t</a> aws_iot_mqtt_yield </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__mqtt__client_8h.html#af8e1cecd05a26fe36de70921f96ba426">AWS_IoT_Client</a> *&#160;</td>
          <td class="paramname"><em>pClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Yield to the MQTT client. </p>
<p>Called to yield the current thread to the underlying MQTT client. This time is used by the MQTT client to manage PING requests to monitor the health of the TCP connection as well as periodically check the socket receive buffer for subscribe messages. Yield() must be called at a rate faster than the keepalive interval. It must also be called at a rate faster than the incoming message rate as this is the only way the client receives processing time to manage incoming messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Maximum number of milliseconds to pass thread execution to the client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed client processing. If this call results in an error it is likely the MQTT connection has dropped. iot_is_mqtt_connected can be called to confirm.</dd></dl>
<p>Called to yield the current thread to the underlying MQTT client. This time is used by the MQTT client to manage PING requests to monitor the health of the TCP connection as well as periodically check the socket receive buffer for subscribe messages. Yield() must be called at a rate faster than the keepalive interval. It must also be called at a rate faster than the incoming message rate as this is the only way the client receives processing time to manage incoming messages. This is the outer function which does the validations and calls the internal yield above to perform the actual operation. It is also responsible for client state changes</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Reference to the IoT Client </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Maximum number of milliseconds to pass thread execution to the client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IoT Error Type defining successful/failed client processing. If this call results in an error it is likely the MQTT connection has dropped. iot_is_mqtt_connected can be called to confirm. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="dir_3fee47541fc6cf269bed241bf232fc5a.html">aws_iot</a></li><li class="navelem"><a class="el" href="dir_c80b714e586bb62c1a6e448a61c4a02c.html">source</a></li><li class="navelem"><a class="el" href="dir_3aa8e0353840e7cda381351e99e4713b.html">components</a></li><li class="navelem"><a class="el" href="dir_c97c4e169c902b6f0b7ae5d35f7a6e4a.html">aws_iot</a></li><li class="navelem"><a class="el" href="dir_e7b81f582a226519be2751d941b93ce2.html">aws-iot-device-sdk-embedded-C</a></li><li class="navelem"><a class="el" href="dir_5f96ba027d6535f91959144f6030f5a9.html">include</a></li><li class="navelem"><a class="el" href="aws__iot__mqtt__client__interface_8h.html">aws_iot_mqtt_client_interface.h</a></li>
    <li class="footer">Generated by <a href="https://iotready.co"> IoTReady </a><img class="footer" src="logo.png" width="30" height="30" alt="IoTReady"/></a></li>
  </ul>
</div>
</body>
</html>
